<odoo>
    <data noupdate="1">

        <!-- ✅ قاعدة أمان: كل مستخدم يشوف فقط القنوات اللي مشارك فيها -->
        <record id="rule_private_channel_only_for_owner" model="ir.rule">
            <field name="name">Private Channel: Only for user</field>
            <field name="model_id" ref="mail.model_discuss_channel"/>
            <field name="domain_force">[('channel_partner_ids', 'in', [user.partner_id.id])]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

    </data>
</odoo>
